<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 1000" height="500" width="300">
    
    <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" 
            refX="0" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" />
        </marker>
    </defs>
    
    <desc>Architecture diagram of XSLT Blender application</desc>
    <g alignment-baseline="baseline" font-size="30" font-family="sans-serif">
        <rect fill="none" stroke="midnightblue" stroke-width="8" x="0" y="0" width="100%" height="100%"/>
        <rect fill="none" stroke="black" stroke-width="4" x="0" y="0" width="100%" height="100%"/>
        

        <g transform="translate(300 500)" text-anchor="middle">
            <rect fill="gainsboro" stroke="black" stroke-width="3" x="-280"
                width="560" y="-300" height="600"/>
            <text y="-190">XSLT Blender Runtime</text>
            
            <g transform="translate(-10 -100)" text-anchor="start">
            <rect fill="pink" stroke="black" stroke-width="3" x="-220"
                width="360" y="-60" height="120"/>
            <text y="0" x="-200">XSLT Engine</text>
                <text y="-30" font-size="80%">browser</text>
                <text y="0" font-size="80%">component</text>
             
            </g>
            
            <g transform="translate(0 0)">
                
            <g transform="translate(-60 -20)">
                
            <rect fill="white" stroke="black" stroke-width="3" x="-120" width="240" y="-60" height="120"/>
            <text y="-10">XSLT Stylesheet</text>
            <text y="20" font-size="80%">(functional mapping)</text>
            </g>
            
            <rect fill="white" stroke="black" stroke-width="3" width="80" height="50"
                x="-180" y="60"/>
                <rect fill="white" stroke="black" stroke-width="3" width="80" height="50"
                    x="-80" y="60"/>
                <rect fill="white" stroke="black" stroke-width="3" width="80" height="50"
                    x="20" y="60"/>
                <rect fill="white" stroke="black" stroke-width="3" width="80" height="50"
                    x="80" y="-10"/>
                
                
                
            <text y="140" font-size="80%">XSLT modules and resources</text>
            
            </g>
            
            <g transform="translate(120 240)">
                <rect fill="none" stroke="black" stroke-width="3" x="-130" width="260" y="-40" height="80"/>
                <text y="10">XSLT Blender JS</text>
            </g>
            
            
            </g>
        
        <g transform="translate(160 800)" text-anchor="middle">
            <rect fill="lightsteelblue" stroke="black" stroke-width="3" x="-90" width="180"
                y="-60" height="120" stroke-dasharray="2 4"/>
            <text y="0">XML input</text>
            
            <!--<circle r="13" fill="red"/>-->
        </g>
        
        <g transform="translate(300 40)" text-anchor="middle">
            <rect fill="white" stroke="black" stroke-width="3" x="-260" y="-15" height="200"
                width="520"  stroke-dasharray="2 4"/>
            <text y="50">Interactive display</text>
            <path d="M 125 40 h 80 v 30" stroke="black" fill="none"
                stroke-width="3" marker-end="url(#arrowhead)" />
            <path d="M 110 60 v 35 h -15" stroke="black" fill="none"
                stroke-width="2" marker-end="url(#arrowhead)" />
            <path d="M 205 120 v 505" stroke="black" fill="none"
                stroke-width="3" marker-end="url(#arrowhead)" />
            <path d="M 205 740 v 55 h -220" stroke="black" fill="none"
                stroke-width="3" marker-end="url(#arrowhead)" />
            <path d="M -210 700 v -245" stroke="black" fill="none"
                stroke-width="3" marker-end="url(#arrowhead)" />
            <path d="M -210 300 v -50" stroke="black" fill="none"
                stroke-width="3" marker-end="url(#arrowhead)" />
            <path d="M -210 80 v -40 h 50" stroke="black" fill="none"
                stroke-width="3" marker-end="url(#arrowhead)" />
            
            
        </g>
        
        <g transform="translate(300 200)" text-anchor="middle">
            <g transform="translate(-90 -50)">
                <rect fill="skyblue" stroke="black" stroke-width="3" x="-170" width="340" y="-30"
                    height="60" stroke-dasharray="2 4"/>
                <text y="5">browser DOM</text>
                <!--<circle r="13" fill="red"/>-->
            </g>
            
            <g transform="translate(-170 0)">
                <rect fill="lightgreen" stroke="black" stroke-width="3" y="-30" height="80" x="-90"
                    width="180" stroke-dasharray="2 4"/>
                <text y="15" text-anchor="middle">HTML result</text>
                <!--<circle r="13" fill="red"/>-->

            </g>
            <g transform="translate(10 0)">
                <rect fill="lightgreen" stroke="black" stroke-width="3" x="-85" width="170" y="-30"
                    height="80"/>
                <text y="0" font-size="80%">application</text>
                <text y="35">HTML</text>
            </g>
             <g transform="translate(170 0)" font-size="80%">
                <rect fill="yellow" stroke="black" stroke-width="3" y="-50" height="100" x="-90"
                    width="180"/>
                <text y="-10">Application</text>
                <text y="15">JS/CSS</text>
            </g>
        </g>
        
        <g transform="translate(300 900)" text-anchor="middle">
        
        <text y="0">Web browser instance</text>
        <text y="40" font-size="70%">Supporting technology standards</text>
            <text y="70" font-size="70%">HTML, CSS, XML, XSLT 1.0, ECMAScript, DOM Level 4</text>
</g>
        
    </g>
</svg>
